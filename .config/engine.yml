# –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Budva43 - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Ñ–æ—Ä–≤–∞—Ä–¥–∏–Ω–≥–∞

# –ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞:
# - —Ü–∏—Ñ—Ä–æ–≤—ã–µ –∫–ª—é—á–∏ –ª–∏—à–∞—é—Ç—Å—è –º–∏–Ω—É—Å–∞
# - –∏–º–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ PascalCase
# - –ø—É—Å—Ç–æ–π —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–∞–∑–Ω–∞—á–∞—é `dummy: true`

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
# - –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –≥—Ä—É–ø–ø –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç Sorces.Link (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø)
# - sorces.link –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–µ–≤—å—é TODO: —Å–¥–µ–ª–∞—Ç—å –æ–ø—Ü–∏—è –¥–ª—è –ø—Ä–µ–≤—å—é
# - —Ç–æ–ª—å–∫–æ –¥–ª—è .SendCopy —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + .CopyOnce + .Indelible
# - replace-myself-link: "Message links are available only for messages in supergroups and channel chats"
# - FIXME: markdown –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è: *Sign* –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ **Sign**

# –°–º–æ—Ç—Ä–∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ –Ω—É–º–µ—Ä–∞—Ü–∏–∏ —á–∞—Ç–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö –≤ doc/TEST-CHAT.md

sources:
  # 111:
  #   sign:
  #     title: '\_\*\{\}\[\]\(\)\#\+\-\.\!\~\`\>\=\|' # for SendCopy (with escaped markdown)
  #     for: [888]
  #   link:
  #     title: '\_\*\{\}\[\]\(\)\#\+\-\.\!\~\`\>\=\|' # for SendCopy (with escaped markdown)
  #     for: [321]
  # 123:
  #   sign:
  #     title: "*Source*" # for SendCopy (with markdown)
  #     for: [888]
  #   link:
  #     title: "*Source*" # for SendCopy (with markdown)
  #     for: [321]
  #   auto-answer: true
  #   delete-system-messages: true
  # data for service.transform - 101xx
  10100: # for sign only test
    sign:
      title: "Test Source"
      for: [10109]
  10101: # for link only test
    link:
      title: "Source Link"
      for: [10109]
  10102: # for sign and link test
    sign:
      title: "Test Source"
      for: [10109]
    link:
      title: "Source Link"
      for: [10109]
  10103: # for sign not for this chat test
    sign:
      title: "Test Source"
      for: [10108] # –Ω–µ –¥–ª—è —á–∞—Ç–∞ 10109
  10104: # for empty source test
    dummy: true
  10105: # for get message link error test
    link:
      title: "Source Link"
      for: [10109]
  10106: # for auto answer true test
    auto-answer: true
  10107: # for auto answer false test
    auto-answer: false
  10121: # for Transform test (with markdown)
    sign:
      title: "*Test Source*"
      for: [10123]
    link:
      title: "*Source Link*"
      for: [10123]
    auto-answer: false # —á—Ç–æ–±—ã addAutoAnswer –Ω–µ –≤—ã–¥–∞–≤–∞–ª –æ—à–∏–±–∫—É
  10122: # for Transform test (with escaped markdown)
    sign:
      title: 'Test Source\_\*\{\}\[\]\(\)\#\+\-\.\!\~\`\>\=\|'
      for: [10123]
    link:
      title: 'Source Link\_\*\{\}\[\]\(\)\#\+\-\.\!\~\`\>\=\|'
      for: [10123]
    auto-answer: false # —á—Ç–æ–±—ã addAutoAnswer –Ω–µ –≤—ã–¥–∞–≤–∞–ª –æ—à–∏–±–∫—É
  10118: # for other source test in replaceMyselfLinks - message not from source chat
    dummy: true
destinations:
  # 321:
  #   replace-myself-links:
  #     run: true
  #     delete-external: true
  #     # deleted-link-text: "DELETED\_LINK" # default value (with markdown)
  # 888:
  #   replace-myself-links:
  #     run: true
  #     delete-external: true
  #     deleted-link-text: 'üî•*B\*O\*L\*D* _I\_T\_A\_L\_I\_C_ *_BOLD\_AND\_ITALIC_*üî•'
  # data for service.transform - 101xx
  10110: # for replace fragments test
    replace-fragments: # must be equal length
      - from: "hello"
        to: "12345"
      - from: "world"
        to: "67890"
  10111: # for case insensitive test
    replace-fragments: # must be equal length
      - from: "Test"
        to: "–¢–µ—Å—Ç"
  10112: # for multiple replacements test
    replace-fragments: # must be equal length
      - from: "old"
        to: "new"
  10113: # for no fragments test
    dummy: true
  10114: # for replace myself links test (with delete external when copy not found)
    replace-myself-links:
      run: true
      delete-external: true
  10115: # for replace myself links disabled test (run=false ignores delete-external)
    replace-myself-links:
      run: false
      delete-external: true
  10116: # for delete external disabled test (no deletion when copy not found)
    replace-myself-links:
      run: true
      delete-external: false
  10108: # for sign not for this chat test - wrong destination
    dummy: true
  10109: # for addSourceSign and addSourceLink tests - general destination
    dummy: true
  10117: # for empty replace myself links test (both run and delete-external false)
    replace-myself-links:
      run: false
      # deleteExternal –Ω–µ —É–∫–∞–∑–∞–Ω (–∑–Ω–∞—á–∏—Ç false)

  10123: # for Transform test - minimal success config
    replace-myself-links:
      run: false # —á—Ç–æ–±—ã replaceMyselfLinks –Ω–µ –≤—ã–¥–∞–≤–∞–ª –æ—à–∏–±–∫—É
    replace-fragments: [] # –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, —á—Ç–æ–±—ã replaceFragments –Ω–µ –≤—ã–¥–∞–≤–∞–ª –æ—à–∏–±–∫—É
  10119: # for other destination test in replaceMyselfLinks - tmp message id zero
    dummy: true
forward-rules:
  "Id1":
    from: 111
    to: [222]
  "Id2":
    from: 123
    to: [321, 888]
    send-copy: true
    copy-once: true # wo edit-sync
    indelible: true # wo delete-sync
    exclude: '–ö—Ä–∞–º–µ—Ä|#–£–¢–†–ï–ù–ù–ò–ô_–û–ë–ó–û–†'
    include: '#ARK|#–ò–¥–µ–∏_–ø–æ–∫—É–ø–æ–∫|#–û–¢–ß–ï–¢–´'
    include-submatch:
      - regexp: '(^|[^A-Z])\$([A-Z]+)'
        group: 2
        match: ['F', 'GM', 'TSLA']
    other: 444 # after include (copy only)
    check: 777 # after exclude (forward only)

# report:
#   template: "–ó–∞ *24 —á–∞—Å–∞* –æ—Ç–æ–±—Ä–∞–ª: *%d* –∏–∑ *%d* üòé\n\\#ForwarderStats" # (with markdown)
#   for: [
#       -222,
#       -321,
#       -888,
#     ]
