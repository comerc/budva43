syntax = "proto3";

package pb;

option go_package = "github.com/comerc/budva43/transport/grpc/pb";

service FacadeGRPC {
  rpc GetClientDone (EmptyRequest) returns (ClientDoneResponse);
  rpc GetMessages (GetMessagesRequest) returns (GetMessagesResponse);
  rpc CreateMessage (CreateMessageRequest) returns (MessageResponse);
  rpc GetMessage (GetMessageRequest) returns (MessageResponse);
  rpc UpdateMessage (UpdateMessageRequest) returns (MessageResponse);
  rpc DeleteMessage (DeleteMessageRequest) returns (DeleteMessageResponse);
}

message EmptyRequest {}

message ClientDoneResponse {
  bool done = 1;
}

message Message {
  int64 message_id = 1;
  int64 chat_id = 2;
  string text = 3;
}

message GetMessagesRequest {
  int64 chat_id = 1;
}

message GetMessagesResponse {
  repeated Message messages = 1;
}

message CreateMessageRequest {
  int64 chat_id = 1;
  string text = 2;
}

message MessageResponse {
  Message message = 1;
}

message GetMessageRequest {
  int64 message_id = 1;
}

message UpdateMessageRequest {
  int64 message_id = 1;
  int64 chat_id = 2;
  string text = 3;
}

message DeleteMessageRequest {
  int64 message_id = 1;
}

message DeleteMessageResponse {
  bool success = 1;
}
