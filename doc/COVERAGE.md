# Coverage для межпакетных тестов

## Проблема

В VS Code/Cursor тесты из папки `test` не показывают coverage для кода из других пакетов, даже если эти тесты фактически покрывают код.

## Причина

Go extension в VS Code/Cursor по умолчанию создает coverage только для пакета, в котором находится тест (юнит-тест). Когда тест находится в пакете `test` (интеграционный тест), coverage генерируется только для этого пакета, а код из других пакетов не учитывается.

## Решение

- `make cover` - создает coverage профайл с инструкциями
- `make view-coverage` - открывает HTML отчет в браузере

## Ограничения

Это **известная проблема** Go extension в VS Code/Cursor ([Issue #108](https://github.com/golang/vscode-go/issues/108), [Issue #2301](https://github.com/golang/vscode-go/issues/2301)). Автоматическое межпакетное coverage пока не поддерживается.

## Пример

После выполнения `make cover` и применения профайла в Cursor, файлы с покрытым кодом будут показывать покрытие в редакторе.
