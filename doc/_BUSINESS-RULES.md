# Разграничение бизнес-правил

deprecated - отказались от классического DAO&DTO для упрощения, см. [Архитектура v2](./ARCHITECTURE-V2.md)

## Разница между Enterprise Business Rules и Application Business Rules

В контексте чистой архитектуры существует четкое разграничение между различными уровнями бизнес-правил:

1. **Enterprise Business Rules (Бизнес-правила уровня предприятия)**
    - Расположены в директории `entity/`
    - Представляют собой критические бизнес-правила, которые были бы необходимы даже при отсутствии компьютерной системы
    - Являются наиболее стабильной и независимой частью системы
    - Не зависят от конкретных деталей реализации, фреймворков или внешних систем
    - Примеры:
        - Структура сообщения и его основные атрибуты
        - Правила валидации данных сообщения
        - Основные бизнес-процессы, не зависящие от способа хранения или передачи данных

2. **Application Business Rules (Бизнес-правила уровня приложения)**
    - Расположены в директории `service/`
    - Представляют собой правила, специфичные для данного приложения
    - Координируют поток данных между сущностями и внешними слоями
    - Не зависят от механизмов доставки (HTTP, CLI) и внешних систем (базы данных, API)
    - Могут зависеть от Enterprise Business Rules
    - Примеры:
        - Логика пересылки сообщений между разными чатами
        - Алгоритмы фильтрации сообщений
        - Правила обработки сообщений перед сохранением или отправкой

Основное различие между этими уровнями в том, что Enterprise Business Rules могут быть перенесены в любое другое приложение в рамках того же бизнес-домена, в то время как Application Business Rules специфичны для конкретного приложения и определяют, как именно Enterprise Business Rules используются в данном контексте.
